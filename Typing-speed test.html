<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Typing speed Test</title>
    <link href="https://fonts.googleapis.com/css2?family+Roboto+Mono:wght@400;700$display=swap" rel="stylesheet">
    <style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: 'Roboto Mono', monospace;
    }

    body {
        background-color: #f5f5f5;
        color: #333;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        padding: 20px;
    }


    .container {
        background-color: white;
        border-radius: 10px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        padding: 30px;
        width: 100%;
        max-width: 800px;
    }

    h1 {
        text-align: center;
        margin-bottom: 20px;
    }

    .start {
        display: flex;
        justify-content: space-between;
        margin-bottom: 20px;
    }

    .start.box {
        background-color: #f8f9fa;
        border-radius: 8px;
        padding: 15px;
        text-align: center;
        flex: 1;
        margin: 0 10px
    }

    .start.box span {
        display: block;
    }

    .start.box span:first-child {
        font-size: 24px;
        font-weight: bold;
        color: #2c3e50;
    }

    .start-lable {
        font-size: 14px;
        color: #7f8c8d;
    }

    .text-display {
        background-color: #f8f9fa;
        border-radius: 8px;
        padding: 20px;
        margin-bottom: 20px;
        min-height: 150px;
        font-size: 18px;
        line-height: 1.6;
        white-space: pre-wrap;
    }

    #text-input {
        width: 100%;
        height: 150px;
        padding: 15px;
        border: 2px solid #ddd;
        border-radius: 8px;
        resize: none;
        font-size: 16px;
        margin-bottom: 20;
        outline: none;
        transition: border 0.3s;
    }

    #text-input:focus {
        border-color: #3498db;
    }

    .controls {
        display: flex;
        justify-content: center;
        gap: 15px;
    }

    button {
        padding: 12px 25px;
        border: none;
        border-radius: 5px;
        background-color: #3498db;
        color: white;
        font-size: 16px;
        cursor: pointer;    
        transition: background-color 0.3s;
    }

    button:hover {
        background-color: #2980b9;
    }

    button:disabled {
        background-color: #bdc3c7;
        cursor: not-allowed;
    }

    .correct {
       color: #27ae60;
    }

    .incorrect {
        color: #e74c3c;
        text-decoration: underline;
    }

    .current {
        background-color: #fffde7;
        border-radius: 2px;
    }
    </style>
<head>
<body>
    <div class="container">
        <h1>Typing Speed Test</h1>
        <div class="stats">
            <div class="stats">
                <span id="wpm">0</span>
                <span class="stat-lable">WPM</span>
            </div>
            <div class="stat-box">
                <span id="accuracy">0</span>
                <span class="stat-lable">Accuracy</span>
            </div>
            <div class="start-box">
                <span id="time">60</span>
                <span class="stat-lable">seconds</span>
            </div>
        </div>
        <div class="text-display" id="text-display">
                Click "Start Test" to begin...
            </div>
            <textarea id="text-input" placeholder="start typing here..."></textarea>
            <div class="controls">
                <button id="start-btn">StartTest</button>
                <button id="reset-btn" disable>Reset</button>
            </div>
        </div>
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const textDisplay = document.getElementById('text-display');
        const textInput = document.getElementById('text-input');
        const startBtn = document.getElementById('start-btn');
        const resetBtn = document.getElementById('reset-btn');
        const wpmDisplay = document.getElementById('wpm');
        const accuracyDisplay = document.ElementById('accuracy');
        const timeDisplay = document.getElementId('time');

        let timer;
        let timeLeft = 60;
        let isTestRunning = false;
        let startTime;
        let totalTyped = 0;
        let correctTyped = 0;
        let currentText = '';

        // sample text for typing test
        const sampleTexts = [
            "The  quick brown fox jumps oer the lazy dog. This sentence is demonstrative.",
            "Djeumeni sabda is a novice but has good bases.",
            "Programing is fun and rewarding when you understabd the logic.",
            "typing fast requires both accuracy and consistent practice.",
            "Practice makes perfect, so keep typing every day!.follow sanda",
            "Every developer should master the basics before learning frameworks.",
            "A journey of a thousand miles begins with a single step.",
            "JavaScript can be tricky, but practice leads to progress.",
            "Fast fingers and sharp focus are keys to typing success.",
            "Errors are part of learning; don't be afraid to make mistakes."
        ]; 

        //initialize the app
        function init() {
            textInput.value ='';
            textInput.disable = true;
            resetBtn.disable = true;
            timeDisp.textContent = timeLeft;
        }

        // Start the typing test
        function startTest() {
            if (isTestRunning) return;

            isTestRunning = true;
            startBtn.disable = true;
            resetBtn.disable = false;
            textInput.disable = false;
            textInput.focus();

            // Select random text
            currentText = sampleTexts[Math.floor(Math.random) * sample]
            renderText();

            // Reset stats
            totalTyped = 0;
            correctTyped = 0;
            timeLeft = 60;
            timeDiesplay.textContent = timeLeft;
            wpmDisplay.textContent = 0;
            accuracyDisplay.textContent = 0;

            // start timer
            startTime = new Date().getTime();
            timer = setInterval(updateTimer, 1000);
        }

        //update the timer
        function updateTimer() {
                timeLeft--;
                timeDisplay.textContent = timeLeft;

                if (timeLeft<= 0) {
                    endTest();
                }
            }

            // End the typing test
            function endTest() {
                clearInterval(timer);
                isTestRunning = false;
                textInput.disable = true;
                startBtn.disable = false;

                // calculate final WPM and accuracy
                calculateStats();
            }

            // Reset the typing test
            function resetTest() {
                clearInterval(timer);
                isTestRunning = false;
                init();
                textDisplay.textContent = "Click \"Start Test\" to begin...";
            }
            //calculate WPM and accuracy
            function calculateStats() {
                const elapsedTime = (60 - timeLeft) / 60; // in minutes
                const words = (correctTyped / 5); // assuming 5 characters
                const wpm = Math.round(words)
            }
    })